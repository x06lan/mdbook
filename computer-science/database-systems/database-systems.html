<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">

<head>
    <!-- Book generated using mdBook -->
    <meta charset="UTF-8">
    <title>database systems - something</title>


    <!-- Custom HTML head -->
    
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff" />

    <link rel="icon" href="../../favicon.svg">
    <link rel="shortcut icon" href="../../favicon.png">
    <link rel="stylesheet" href="../../css/variables.css">
    <link rel="stylesheet" href="../../css/general.css">
    <link rel="stylesheet" href="../../css/chrome.css">
    <link rel="stylesheet" href="../../css/print.css" media="print">

    <!-- Fonts -->
    <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
    <link rel="stylesheet" href="../../fonts/fonts.css">

    <!-- Highlight.js Stylesheets -->
    <link rel="stylesheet" href="../../highlight.css">
    <link rel="stylesheet" href="../../tomorrow-night.css">
    <link rel="stylesheet" href="../../ayu-highlight.css">
    <link rel="stylesheet" href="../../monokai.css">

    <!-- Custom theme stylesheets -->
    <link rel="stylesheet" href="../../theme/pagetoc.css">

    <!-- google anagles-->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-E4ZX8LPY4F"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-E4ZX8LPY4F');
        //ga('send', 'pageview');
    </script>
</head>

<body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch (e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch (e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="../../math/index.html"><strong aria-hidden="true">1.</strong> math</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../math/calculus.html"><strong aria-hidden="true">1.1.</strong> calculus</a></li><li class="chapter-item "><a href="../../math/formal-language/formal-language.html"><strong aria-hidden="true">1.2.</strong> formal language</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../math/formal-language/formal-language.html"><strong aria-hidden="true">1.2.1.</strong> formal language</a></li><li class="chapter-item "><a href="../../math/formal-language/hw1.html"><strong aria-hidden="true">1.2.2.</strong> hw1</a></li></ol></li><li class="chapter-item "><a href="../../math/linear-algebra.html"><strong aria-hidden="true">1.3.</strong> linear algebra</a></li><li class="chapter-item "><a href="../../math/math-modeling/math-modeling.html"><strong aria-hidden="true">1.4.</strong> math-modeling</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../math/math-modeling/round-robin-tournament.html"><strong aria-hidden="true">1.4.1.</strong> round-robin-tournament</a></li></ol></li><li class="chapter-item "><a href="../../math/matrix-algebra/matrix-algebra.html"><strong aria-hidden="true">1.5.</strong> matrix algebra</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../math/matrix-algebra/matrix-algebra.html"><strong aria-hidden="true">1.5.1.</strong> matrix algebra</a></li><li class="chapter-item "><a href="../../math/matrix-algebra/Q2.html"><strong aria-hidden="true">1.5.2.</strong> Q2</a></li><li class="chapter-item "><a href="../../math/matrix-algebra/Q3.html"><strong aria-hidden="true">1.5.3.</strong> Q3</a></li></ol></li><li class="chapter-item "><a href="../../math/probability/hw2.html"><strong aria-hidden="true">1.6.</strong> probability</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../math/probability/hw2.html"><strong aria-hidden="true">1.6.1.</strong> hw2</a></li><li class="chapter-item "><a href="../../math/probability/hw3.html"><strong aria-hidden="true">1.6.2.</strong> hw3</a></li><li class="chapter-item "><a href="../../math/probability/hw4.html"><strong aria-hidden="true">1.6.3.</strong> hw4</a></li><li class="chapter-item "><a href="../../math/probability/hw5.html"><strong aria-hidden="true">1.6.4.</strong> hw5</a></li><li class="chapter-item "><a href="../../math/probability/hw6.html"><strong aria-hidden="true">1.6.5.</strong> hw6</a></li><li class="chapter-item "><a href="../../math/probability/hw7.html"><strong aria-hidden="true">1.6.6.</strong> hw7</a></li><li class="chapter-item "><a href="../../math/probability/hw8.html"><strong aria-hidden="true">1.6.7.</strong> hw8</a></li><li class="chapter-item "><a href="../../math/probability/hw9.html"><strong aria-hidden="true">1.6.8.</strong> hw9</a></li></ol></li><li class="chapter-item "><a href="../../math/signals-and-systems/signals-and-systems.html"><strong aria-hidden="true">1.7.</strong> signals and systems</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../math/signals-and-systems/signals-and-systems.html"><strong aria-hidden="true">1.7.1.</strong> signals processing</a></li><li class="chapter-item "><a href="../../math/signals-and-systems/mid.html"><strong aria-hidden="true">1.7.2.</strong> mid</a></li><li class="chapter-item "><a href="../../math/signals-and-systems/final.html"><strong aria-hidden="true">1.7.3.</strong> final</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../computer-science/index.html"><strong aria-hidden="true">2.</strong> computer science</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../computer-science/compiler/compiler.html"><strong aria-hidden="true">2.1.</strong> compiler</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../computer-science/compiler/compiler.html"><strong aria-hidden="true">2.1.1.</strong> compiler</a></li><li class="chapter-item "><a href="../../computer-science/compiler/hw0.html"><strong aria-hidden="true">2.1.2.</strong> hw0</a></li><li class="chapter-item "><a href="../../computer-science/compiler/hw1.html"><strong aria-hidden="true">2.1.3.</strong> hw1</a></li><li class="chapter-item "><a href="../../computer-science/compiler/hw2.html"><strong aria-hidden="true">2.1.4.</strong> hw2</a></li><li class="chapter-item "><a href="../../computer-science/compiler/hw3.html"><strong aria-hidden="true">2.1.5.</strong> hw3</a></li></ol></li><li class="chapter-item "><a href="../../computer-science/computer-graphics/computer-graphics.html"><strong aria-hidden="true">2.2.</strong> computer-graphics</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../computer-science/computer-graphics/deferred-rendering.html"><strong aria-hidden="true">2.2.1.</strong> deferred-rendering</a></li></ol></li><li class="chapter-item "><a href="../../computer-science/computer-network/computer-network.html"><strong aria-hidden="true">2.3.</strong> computer networking</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../computer-science/computer-network/computer-network.html"><strong aria-hidden="true">2.3.1.</strong> computer networking</a></li><li class="chapter-item "><a href="../../computer-science/computer-network/hw1.html"><strong aria-hidden="true">2.3.2.</strong> hw1</a></li><li class="chapter-item "><a href="../../computer-science/computer-network/hw2.html"><strong aria-hidden="true">2.3.3.</strong> hw2</a></li><li class="chapter-item "><a href="../../computer-science/computer-network/hw4.html"><strong aria-hidden="true">2.3.4.</strong> hw4</a></li><li class="chapter-item "><a href="../../computer-science/computer-network/hw5.html"><strong aria-hidden="true">2.3.5.</strong> hw5</a></li><li class="chapter-item "><a href="../../computer-science/computer-network/hw6.html"><strong aria-hidden="true">2.3.6.</strong> hw6</a></li></ol></li><li class="chapter-item "><a href="../../computer-science/CSG.html"><strong aria-hidden="true">2.4.</strong> CSG(Constructive Solid Geometry) mesh boolean</a></li><li class="chapter-item "><a href="../../computer-science/data-science/data-science.html"><strong aria-hidden="true">2.5.</strong> data science</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../computer-science/data-science/data-science.html"><strong aria-hidden="true">2.5.1.</strong> data science</a></li><li class="chapter-item "><a href="../../computer-science/data-science/hw1.html"><strong aria-hidden="true">2.5.2.</strong> hw1</a></li><li class="chapter-item "><a href="../../computer-science/data-science/hw2.html"><strong aria-hidden="true">2.5.3.</strong> hw2</a></li><li class="chapter-item "><a href="../../computer-science/data-science/hw3.html"><strong aria-hidden="true">2.5.4.</strong> hw3</a></li></ol></li><li class="chapter-item expanded "><a href="../../computer-science/database-systems/database-systems.html" class="active"><strong aria-hidden="true">2.6.</strong> database systems</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../computer-science/database-systems/database-systems.html" class="active"><strong aria-hidden="true">2.6.1.</strong> database systems</a></li><li class="chapter-item "><a href="../../computer-science/database-systems/hw1.html"><strong aria-hidden="true">2.6.2.</strong> hw1</a></li><li class="chapter-item "><a href="../../computer-science/database-systems/hw2.html"><strong aria-hidden="true">2.6.3.</strong> hw2</a></li><li class="chapter-item "><a href="../../computer-science/database-systems/hw3.html"><strong aria-hidden="true">2.6.4.</strong> hw3</a></li><li class="chapter-item "><a href="../../computer-science/database-systems/hw4.html"><strong aria-hidden="true">2.6.5.</strong> hw4</a></li></ol></li><li class="chapter-item "><a href="../../computer-science/leetcode.html"><strong aria-hidden="true">2.7.</strong> leetcode</a></li><li class="chapter-item "><a href="../../computer-science/machine-learing/machine-learing.html"><strong aria-hidden="true">2.8.</strong> machine-learing</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../computer-science/machine-learing/auto-encoder.html"><strong aria-hidden="true">2.8.1.</strong> auto-encoder</a></li><li class="chapter-item "><a href="../../computer-science/machine-learing/reinforcement-learning.html"><strong aria-hidden="true">2.8.2.</strong> reinforcement-learning</a></li><li class="chapter-item "><a href="../../computer-science/machine-learing/transformer.html"><strong aria-hidden="true">2.8.3.</strong> transformer</a></li><li class="chapter-item "><a href="../../computer-science/machine-learing/gan.html"><strong aria-hidden="true">2.8.4.</strong> gan</a></li></ol></li><li class="chapter-item "><a href="../../computer-science/model-checking/model-checking.html"><strong aria-hidden="true">2.9.</strong> model-checking</a></li><li class="chapter-item "><a href="../../computer-science/nerf.html"><strong aria-hidden="true">2.10.</strong> nerf</a></li><li class="chapter-item "><a href="../../computer-science/operating-system/operating-system.html"><strong aria-hidden="true">2.11.</strong> operating system</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../computer-science/operating-system/operating-system.html"><strong aria-hidden="true">2.11.1.</strong> operating system</a></li><li class="chapter-item "><a href="../../computer-science/operating-system/hw1.html"><strong aria-hidden="true">2.11.2.</strong> hw1</a></li><li class="chapter-item "><a href="../../computer-science/operating-system/hw2.html"><strong aria-hidden="true">2.11.3.</strong> hw2</a></li><li class="chapter-item "><a href="../../computer-science/operating-system/hw3.html"><strong aria-hidden="true">2.11.4.</strong> hw3</a></li><li class="chapter-item "><a href="../../computer-science/operating-system/hw4.html"><strong aria-hidden="true">2.11.5.</strong> hw4</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../tool/index.html"><strong aria-hidden="true">3.</strong> tool</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../tool/BitTorrent.html"><strong aria-hidden="true">3.1.</strong> BitTorrent</a></li><li class="chapter-item "><a href="../../tool/docker.html"><strong aria-hidden="true">3.2.</strong> docker</a></li><li class="chapter-item "><a href="../../tool/ffmpeg.html"><strong aria-hidden="true">3.3.</strong> ffmpeg</a></li><li class="chapter-item "><a href="../../tool/git.html"><strong aria-hidden="true">3.4.</strong> git</a></li><li class="chapter-item "><a href="../../tool/graphviz.html"><strong aria-hidden="true">3.5.</strong> graphviz</a></li><li class="chapter-item "><a href="../../tool/shields.io.html"><strong aria-hidden="true">3.6.</strong> shields.io</a></li><li class="chapter-item "><a href="../../tool/shortcut.html"><strong aria-hidden="true">3.7.</strong> shortcut</a></li><li class="chapter-item "><a href="../../tool/vim.html"><strong aria-hidden="true">3.8.</strong> vim</a></li></ol></li><li class="chapter-item "><a href="../../concept/japanese.html"><strong aria-hidden="true">4.</strong> japanese</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents"
                            aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme"
                            aria-label="Change theme" aria-haspopup="true" aria-expanded="false"
                            aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="monokai">Monokai</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)"
                            aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S"
                            aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">something</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/x06lan/mdbook" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..."
                            aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function (link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <div class="sidetoc">
                            <nav class="pagetoc"></nav>
                        </div>
                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="database-systems"><a class="header" href="#database-systems">database systems</a></h1>
<h1 id="three-schema-architecture"><a class="header" href="#three-schema-architecture">Three-schema Architecture</a></h1>
<ul>
<li>Internal level
<ul>
<li>how data actually store in database</li>
</ul>
</li>
<li>Conceptual level
<ul>
<li>use some ER Diagram to desc main conceptual of data structure</li>
</ul>
</li>
<li>External level
<ul>
<li>how to present to out world (interface)</li>
</ul>
</li>
</ul>
<h1 id="database-constraint"><a class="header" href="#database-constraint">Database constraint</a></h1>
<ul>
<li>Implicit Constraints or Inherent constraint
<ul>
<li>Constraints that are applied in the data model</li>
</ul>
</li>
<li>Schema-Based Constraints or Explicit Constraints
<ul>
<li>Constraints that are directly applied in the schemas of the data model, by specifying them in the DDL(Data Definition Language).</li>
</ul>
</li>
<li>Semantic Constraints or Application based
<ul>
<li>Constraints that cannot be directly applied in the schemas of the data model. We call these Application based or .</li>
</ul>
</li>
</ul>
<h1 id="database-independence"><a class="header" href="#database-independence">Database Independence</a></h1>
<ul>
<li><strong>Logical Data Independence</strong>:
<ul>
<li>The capacity to change the conceptual schema without having to change the external schemas and their associated application programs</li>
</ul>
</li>
<li><strong>Physical Data Independence</strong>:
<ul>
<li>The capacity to change the internal schema without having to change the conceptual schema.</li>
</ul>
</li>
</ul>
<h1 id="three-tier-client-server-architecture"><a class="header" href="#three-tier-client-server-architecture">Three-tier client-server architecture</a></h1>
<ul>
<li>presentation layer
<ul>
<li>GUI, web interface</li>
</ul>
</li>
<li>busincess layer
<ul>
<li>application programs</li>
</ul>
</li>
<li>database services layer
<ul>
<li>database management system</li>
</ul>
</li>
</ul>
<h1 id="superkey"><a class="header" href="#superkey">superkey</a></h1>
<image src="https://media.geeksforgeeks.org/wp-content/uploads/20230314093236/keys-in-dbms.jpg" width="80%">
<h1 id="null"><a class="header" href="#null">null</a></h1>
<p>A special null value is used to represent values that are unknown or not available (value exist) or inapplicable (value undefined) in certain tuples.</p>
<h1 id="eer-diagram"><a class="header" href="#eer-diagram">EER diagram</a></h1>
<h2 id="total-vs-partial--disjoint-vs-overlapped"><a class="header" href="#total-vs-partial--disjoint-vs-overlapped">total vs partial | disjoint vs overlapped</a></h2>
<div class="table-wrapper"><table><thead><tr><th></th><th>total</th><th>partial</th><th>disjoint</th><th>overlapped</th></tr></thead><tbody>
<tr><td>EER diagram</td><td>double line</td><td>single line</td><td>d</td><td>o</td></tr>
<tr><td>super class inheritance</td><td>at least one subclass</td><td>can be none</td><td>at most one</td><td>can more than one</td></tr>
</tbody></table>
</div>
<ul>
<li><strong>specialization</strong>:
<ul>
<li>top down conceptual refinement process</li>
<li>arrow to subclass</li>
</ul>
</li>
<li><strong>generalization</strong>:
<ul>
<li>bottom up conceptual synthesis process</li>
<li>arrow to superclass</li>
</ul>
</li>
<li><strong>shared subclass</strong>:
<ul>
<li>multiple super class</li>
<li>multiple inheritance from diff super class</li>
<li>presend subclass is intersection of super class</li>
</ul>
</li>
<li><strong>Categories (UNION TYPES)</strong>:
<ul>
<li>presend subclass is union of super class</li>
<li>use “U” as symbol in EER diagram</li>
</ul>
</li>
</ul>
<h1 id="sql"><a class="header" href="#sql">sql</a></h1>
<pre><code class="language-sql">HOTEL(hotelNo, hoteName, City);
ROOM(roomNo, hotelNo, type, price);
BOOKING(hotelNoguestNo, dateFrom, dateTo, foomNo);
GUEST(guestNo, guestName, guestAddress);
</code></pre>
<h2 id="list-the-price-and-type-of-all-rooms-that-hotelname-is-howard-hotel"><a class="header" href="#list-the-price-and-type-of-all-rooms-that-hotelname-is-howard-hotel">List the price and type of all rooms that hotelName is Howard Hotel.</a></h2>
<pre><code class="language-sql">SELECT r.price, r.type
FROM ROOM r
INNER JOIN HOTEL h ON r.hotelNo = h.hotelNo
WHERE h.hotelName = 'Howard Hotel';
</code></pre>
<pre><code class="language-sql">SELECT price, type
FROM ROOM
WHERE hotelNo = (SELECT hotelNo FROM HOTEL WHERE hotelName = 'Howard Hotel');
</code></pre>
<h2 id="list-the-details-of-all-rooms-at-the-howard-hotel-including-the-name-of-the-guest-staying-in-the-room-if-the-room-is-occupied"><a class="header" href="#list-the-details-of-all-rooms-at-the-howard-hotel-including-the-name-of-the-guest-staying-in-the-room-if-the-room-is-occupied">List the details of all rooms at the Howard Hotel, including the name of the guest staying in the room if the room is occupied.</a></h2>
<pre><code class="language-sql">SELECT r.roomNo, r.type, r.price, g.guestName
FROM ROOM r
LEFT JOIN BOOKING b ON r.roomNo = b.roomNo
LEFT JOIN GUEST g ON b.guestNo = g.guestNo
INNER JOIN HOTEL h ON r.hotelNo = h.hotelNo
WHERE h.hotelName = 'Howard Hotel';
</code></pre>
<h2 id="list-all-single-rooms-with-a-price-below-3000-per-night--4-list-all-guests-currently-staying-at-the-howard-hotel"><a class="header" href="#list-all-single-rooms-with-a-price-below-3000-per-night--4-list-all-guests-currently-staying-at-the-howard-hotel">List all single rooms with a price below 3,000 per night. ) (4%) List all guests currently staying at the Howard Hotel.</a></h2>
<pre><code class="language-sql">SELECT r.roomNo, r.price
FROM ROOM r
WHERE r.type = 'single' AND r.price &lt; 3000;

</code></pre>
<h2 id="list-all-guests-currently-staying-at-the-howard-hotel"><a class="header" href="#list-all-guests-currently-staying-at-the-howard-hotel">list all guests currently staying at the “Howard Hotel,”</a></h2>
<pre><code class="language-sql">SELECT DISTINCT g.guestName
FROM GUEST g
INNER JOIN BOOKING b ON g.guestNo = b.guestNo
WHERE b.hotelNo = (SELECT hotelNo FROM HOTEL WHERE hotelName = 'Howard Hotel');
</code></pre>
<h2 id="execpt"><a class="header" href="#execpt">execpt</a></h2>
<pre><code class="language-sql">SELECT Fname, Lname
FROM Employee
WHERE NOT EXISTS((SELECT Pnumber
										FROM PROJECT
										WHERE Dno=5)
					EXCEPT(SELECT Pno
									FROM WORKS_ON
									WHERE Ssn= ESsn));
</code></pre>
<h2 id="schemas"><a class="header" href="#schemas">schemas</a></h2>
<h2 id="join-vs-sub-query"><a class="header" href="#join-vs-sub-query">join vs. sub-query</a></h2>
<p>In general join have better performance because of optimisers.</p>
<h1 id="正規化-normalization"><a class="header" href="#正規化-normalization">正規化 (normalization)</a></h1>
<ul>
<li>make sure attribute semantics are clear</li>
<li>reducing redundant information</li>
<li></li>
</ul>
<ol>
<li>candidate key: If a relation schema has more than one key, each is called a candidate key</li>
<li>Prime attribute: Prime attribute must be a member of some candidate key</li>
</ol>
<h2 id="functional-dependency"><a class="header" href="#functional-dependency">Functional Dependency</a></h2>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">}</span></span><span class="mspace newline"></span></span></span>
mean if get x and y can get z</p>
<h2 id="partial-dependency"><a class="header" href="#partial-dependency">partial dependency</a></h2>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">}</span></span></span></span> but <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">x</span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">}</span></span><span class="mspace newline"></span></span></span>
x alone can get z then it is partial dependency</p>
<h2 id="fully-functional-dependency"><a class="header" href="#fully-functional-dependency">Fully Functional Dependency</a></h2>
<p>not partial dependency</p>
<h2 id="transitive-dependency"><a class="header" href="#transitive-dependency">transitive dependency</a></h2>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">x</span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">}</span></span><span class="mspace newline"></span></span></span>
<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">}</span></span><span class="mspace newline"></span></span></span>
and y is not candidate key then it is transitive dependency</p>
<h2 id="multivalued-dependency"><a class="header" href="#multivalued-dependency">multivalued dependency</a></h2>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">x</span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">}</span></span><span class="mspace newline"></span></span></span>
if y is the subset of x then this is multivalued dependency</p>
<h2 id="join-dependency--dependency-preservation"><a class="header" href="#join-dependency--dependency-preservation">join dependency | dependency preservation</a></h2>
<h2 id="1nf"><a class="header" href="#1nf">1NF</a></h2>
<ul>
<li>must be a primary key for identification</li>
<li>no duplicated rows or columns</li>
<li>no nest relations(JSON)</li>
<li>no composite attributes (struct)</li>
<li>no multivalued attributes (array)</li>
</ul>
<h2 id="2nf"><a class="header" href="#2nf">2NF</a></h2>
<ul>
<li>1NF</li>
<li>no partial dependency</li>
<li>All attributes depend on the whole key</li>
<li>No partial dependencies on the primary key (for nonprime attributes)</li>
</ul>
<h2 id="3nf"><a class="header" href="#3nf">3NF</a></h2>
<ul>
<li>2NF</li>
<li>All attributes depend on nothing but the key</li>
<li>No transitive dependencies on the primary key (for nonprime attribute</li>
</ul>
<h2 id="bcnf-or-35nf-boyce-codd-normal-form"><a class="header" href="#bcnf-or-35nf-boyce-codd-normal-form">BCNF or 3.5NF (Boyce-Codd Normal Form)</a></h2>
<ul>
<li>3NF</li>
<li>all key of table cant depend on another non-key columns</li>
</ul>
<h2 id="4nf"><a class="header" href="#4nf">4NF</a></h2>
<ul>
<li>if, for every nontrivial multivalued dependency x is superkey</li>
<li>not only can save on storage, but also avoid the update anomalies</li>
</ul>
<h2 id="5nf"><a class="header" href="#5nf">5NF</a></h2>
<ul>
<li>The constraint states that every legal state r of R should have a non-additive join decomposition into R1, R2, …, Rn; that is, for every such r we have</li>
</ul>
<h2 id="nf-example"><a class="header" href="#nf-example">NF example</a></h2>
<p>2NF</p>
<image src="https://imgur.com/iohrUvO.png" width="80%">
<p>3NF</p>
<image src="https://imgur.com/MLKsKtS.png" width="80%">
<p>4NF 5NF</p>
<image src="https://imgur.com/TPJqzyP.png" width="80%">
<h1 id="disk"><a class="header" href="#disk">disk</a></h1>
<image src="https://imgur.com/rnZdBwG.png" width="80%">
<ul>
<li><strong>Seek time</strong>: position the read/write head on the correct track</li>
<li><strong>Rotational delay or latency</strong>: the beginning of the desired block rotates into position under the read/write head</li>
<li><strong>Block transfer time</strong>: transfer the data of the desired block</li>
<li><strong>Blocking factor (bfr)</strong>: refers to the number of records per block</li>
<li>primary file organizations
<ul>
<li>records of a file are physically placed on the disk</li>
<li>how the records can be accessed</li>
<li>e.g.heap, sorted, hashed, B-tree</li>
</ul>
</li>
</ul>
<h2 id="buffering"><a class="header" href="#buffering">buffering</a></h2>
<h3 id="double-buffering"><a class="header" href="#double-buffering">double buffering</a></h3>
<ul>
<li>ite continuous stream of blocks from memory to the disk</li>
<li>Permits continuous reading or writing of data on consecutive disk blocks, which eliminates the seek time and rotational delay for all but the first block transfer</li>
</ul>
<h3 id="buffer-management"><a class="header" href="#buffer-management">Buffer Management</a></h3>
<p>Buffer manager is a software component of a DBMS that responds
to requests for data and decides what buffer to use and what pages to
replace in the buffer to accommodate the newly requested blocks</p>
<ul>
<li>Controls the main memory directly as in most RDBMS</li>
<li>Allocate buffers in virtual memory, which allows the control to transfer to the operating system (OS</li>
</ul>
<h4 id="data-requested-workflow"><a class="header" href="#data-requested-workflow">data requested workflow</a></h4>
<ol>
<li>checks if the requested page is already in a buffer in the buffer pool; if so, it increments its pin-count and release the page</li>
<li>If the page is not in the buffer pool, the buffer manager does the following
<ol>
<li>It chooses a page for replacement, using the replacement policy, and increments its pin-count</li>
<li>If the dirty bit of the replacement page is on, the buffer manager writes that page to disk by replacing its old copy on disk. If the dirty it is not on, no need to write</li>
<li>The main memory address of the new page is passed to the requesting application</li>
</ol>
</li>
</ol>
<h3 id="buffer-replacement-strategies"><a class="header" href="#buffer-replacement-strategies">Buffer Replacement Strategies</a></h3>
<ul>
<li>Least recently used (LRU)</li>
<li>Clock policy (a round-robin variant of the LRU)</li>
<li>First-in-first-out (FIFO)</li>
<li>Most recently used (MRU)</li>
</ul>
<h2 id="record"><a class="header" href="#record">record</a></h2>
<ul>
<li>fixed length</li>
<li>variable length
<ul>
<li>variable field (varying size)</li>
<li>repeating field (multiple values)</li>
<li>optional field (optional)</li>
</ul>
</li>
</ul>
<!-- ## Operations on Files -->
<h2 id="file"><a class="header" href="#file">file</a></h2>
<ul>
<li><strong>Unspanned</strong>: no record can span two blocks</li>
<li><strong>Spanned</strong>: a record can be stored in more than one block</li>
</ul>
<h3 id="unorder-file"><a class="header" href="#unorder-file">unorder file</a></h3>
<ul>
<li>linear search</li>
<li>heap or pile file</li>
<li>Record insertion is quite efficient</li>
<li>deletion marker</li>
</ul>
<h3 id="order-file"><a class="header" href="#order-file">order file</a></h3>
<ul>
<li>sequential</li>
<li>sorted</li>
<li>binary search</li>
</ul>
<h4 id="clustered-indexb-tree"><a class="header" href="#clustered-indexb-tree">clustered index(B-Tree)</a></h4>
<p>primary index is leaf index of tree
<image src="https://imgur.com/6Ix8crC.png" width="80%"></p>
<h4 id="not-clustered-index"><a class="header" href="#not-clustered-index">not clustered index</a></h4>
<image src="https://imgur.com/5MTXQN2.png" width="80%">
<h3 id="hash-file"><a class="header" href="#hash-file">hash file</a></h3>
<p>directories can be stored on disk, and they expand or shrink dynamically</p>
<h4 id="deal-with-collision"><a class="header" href="#deal-with-collision">deal with collision</a></h4>
<ul>
<li><strong>Chaining</strong>: use link list to chaining data </li>
<li>Rehashing</li>
<li>Open Addressing</li>
</ul>
<h4 id="static-hashing"><a class="header" href="#static-hashing">static hashing</a></h4>
<ul>
<li>order access is inefficient</li>
</ul>
<h4 id="dynamic-hashing"><a class="header" href="#dynamic-hashing">dynamic Hashing</a></h4>
<ul>
<li>directory is a binary tree</li>
</ul>
<h4 id="extendible-hashing"><a class="header" href="#extendible-hashing">extendible hashing</a></h4>
<ul>
<li>directory is an array of size <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span></span></span></span></span></span></span></span> where <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">d</span></span></span></span> is called the global depth</li>
</ul>
<h4 id="linear-hashing"><a class="header" href="#linear-hashing">Linear hashing</a></h4>
<ul>
<li>not use a directory</li>
</ul>
<h2 id="raid"><a class="header" href="#raid">RAID</a></h2>
<image src="https://imgur.com/SmeeVaQ.png" width="80%">
<ul>
<li><strong>Improve reliability</strong>: by storing redundant information on disks using parity or some other error correction code</li>
<li><strong>transfer rate</strong>: high overall transfer rate and also accomplish load balancing</li>
<li><strong>performance</strong>: improve disk performance</li>
<li>data striping
<ul>
<li>Bit-level data striping
<ul>
<li>Splitting a byte of data and writing bit j to the jth disk</li>
<li>Can be generalized to a number of disks that is either a multiple or a factor of eight</li>
</ul>
</li>
<li>Block-level data striping
<ul>
<li>separate disks to reduce queuing time of I/O reques</li>
<li>arge requests (accessing multiple blocks) can be parallelized to reduce the response time</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="nasnetwork-attached-storage"><a class="header" href="#nasnetwork-attached-storage">NAS(Network-Attached Storage)</a></h2>
<ul>
<li>file sharing</li>
<li>low cost</li>
</ul>
<h2 id="sanstorage-area-networks"><a class="header" href="#sanstorage-area-networks">SAN(Storage Area Networks)</a></h2>
<ul>
<li><strong>Flexible</strong>: many-to-many connectivity among servers and storage devices using fiber channel hubs and switches</li>
<li>Better isolation capabilities allowing non-disruptive addition of new peripherals and servers</li>
</ul>
<h2 id="index"><a class="header" href="#index">index</a></h2>
<ul>
<li><strong><strong>primary index</strong></strong>: must be defined on an ordered key field.</li>
<li><strong><strong>clustered index</strong></strong>: must be defined on an order field (not keyed) allowing for ranges of records with identical index field values.</li>
<li><strong><strong>secondary index</strong></strong>: is defined on any non-ordered (keyed or non-key) field.</li>
</ul>

                        <!-- github commet -->
                        <dir id="giscus"></dir>
                        <script>
                            var localAddrs = ["localhost", "127.0.0.1", ""];

                            if (localAddrs.indexOf(document.location.hostname) === -1) {
                                var giscusScript = document.createElement('script');
                                giscusScript.src = "https://giscus.app/client.js";
                                giscusScript.setAttribute('data-repo', 'x06lan/mdbook');
                                giscusScript.setAttribute('data-repo-id', 'R_kgDOJxZ6mQ');
                                giscusScript.setAttribute('data-category-id', 'DIC_kwDOJxZ6mc4CXeJ6');
                                giscusScript.setAttribute('data-mapping', 'pathname');
                                giscusScript.setAttribute('data-strict', '0');
                                giscusScript.setAttribute('data-reactions-enabled', '1');
                                giscusScript.setAttribute('data-emit-metadata', '0');
                                giscusScript.setAttribute('data-input-position', 'bottom');
                                giscusScript.setAttribute('data-theme', 'preferred_color_scheme');
                                giscusScript.setAttribute('data-lang', 'zh-TW');
                                giscusScript.setAttribute('crossorigin', 'anonymous');
                                giscusScript.async = true;
                                let giscusDiv = document.getElementById('giscus');
                                giscusDiv.appendChild(giscusScript);
                            }
                        </script>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>

        <script src="../../ace.js"></script>
        <script src="../../editor.js"></script>
        <script src="../../mode-rust.js"></script>
        <script src="../../theme-dawn.js"></script>
        <script src="../../theme-tomorrow_night.js"></script>

        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../theme/pagetoc.js"></script>
        <script src="../../mermaid.min.js"></script>
        <script src="../../mermaid-init.js"></script>


    </div>
</body>

</html>
