<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">

<head>
    <!-- Book generated using mdBook -->
    <meta charset="UTF-8">
    <title>computer networking - something</title>


    <!-- Custom HTML head -->
    
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff" />

    <link rel="icon" href="../../favicon.svg">
    <link rel="shortcut icon" href="../../favicon.png">
    <link rel="stylesheet" href="../../css/variables.css">
    <link rel="stylesheet" href="../../css/general.css">
    <link rel="stylesheet" href="../../css/chrome.css">
    <link rel="stylesheet" href="../../css/print.css" media="print">

    <!-- Fonts -->
    <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
    <link rel="stylesheet" href="../../fonts/fonts.css">

    <!-- Highlight.js Stylesheets -->
    <link rel="stylesheet" href="../../highlight.css">
    <link rel="stylesheet" href="../../tomorrow-night.css">
    <link rel="stylesheet" href="../../ayu-highlight.css">
    <link rel="stylesheet" href="../../monokai.css">

    <!-- Custom theme stylesheets -->
    <link rel="stylesheet" href="../../theme/pagetoc.css">

    <!-- google anagles-->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-E4ZX8LPY4F"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-E4ZX8LPY4F');
        //ga('send', 'pageview');
    </script>
</head>

<body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch (e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch (e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="../../math/index.html"><strong aria-hidden="true">1.</strong> math</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../math/calculus.html"><strong aria-hidden="true">1.1.</strong> calculus</a></li><li class="chapter-item "><a href="../../math/formal-language/formal-language.html"><strong aria-hidden="true">1.2.</strong> formal language</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../math/formal-language/formal-language.html"><strong aria-hidden="true">1.2.1.</strong> formal language</a></li><li class="chapter-item "><a href="../../math/formal-language/hw1.html"><strong aria-hidden="true">1.2.2.</strong> hw1</a></li></ol></li><li class="chapter-item "><a href="../../math/linear-algebra.html"><strong aria-hidden="true">1.3.</strong> linear algebra</a></li><li class="chapter-item "><a href="../../math/math-modeling/math-modeling.html"><strong aria-hidden="true">1.4.</strong> math-modeling</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../math/math-modeling/round-robin-tournament.html"><strong aria-hidden="true">1.4.1.</strong> round-robin-tournament</a></li></ol></li><li class="chapter-item "><a href="../../math/matrix-algebra/matrix-algebra.html"><strong aria-hidden="true">1.5.</strong> matrix algebra</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../math/matrix-algebra/matrix-algebra.html"><strong aria-hidden="true">1.5.1.</strong> matrix algebra</a></li><li class="chapter-item "><a href="../../math/matrix-algebra/Q2.html"><strong aria-hidden="true">1.5.2.</strong> Q2</a></li><li class="chapter-item "><a href="../../math/matrix-algebra/Q3.html"><strong aria-hidden="true">1.5.3.</strong> Q3</a></li></ol></li><li class="chapter-item "><a href="../../math/probability/hw2.html"><strong aria-hidden="true">1.6.</strong> probability</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../math/probability/hw2.html"><strong aria-hidden="true">1.6.1.</strong> hw2</a></li><li class="chapter-item "><a href="../../math/probability/hw3.html"><strong aria-hidden="true">1.6.2.</strong> hw3</a></li><li class="chapter-item "><a href="../../math/probability/hw4.html"><strong aria-hidden="true">1.6.3.</strong> hw4</a></li><li class="chapter-item "><a href="../../math/probability/hw5.html"><strong aria-hidden="true">1.6.4.</strong> hw5</a></li><li class="chapter-item "><a href="../../math/probability/hw6.html"><strong aria-hidden="true">1.6.5.</strong> hw6</a></li><li class="chapter-item "><a href="../../math/probability/hw7.html"><strong aria-hidden="true">1.6.6.</strong> hw7</a></li><li class="chapter-item "><a href="../../math/probability/hw8.html"><strong aria-hidden="true">1.6.7.</strong> hw8</a></li><li class="chapter-item "><a href="../../math/probability/hw9.html"><strong aria-hidden="true">1.6.8.</strong> hw9</a></li></ol></li><li class="chapter-item "><a href="../../math/signals-and-systems/signals-and-systems.html"><strong aria-hidden="true">1.7.</strong> signals and systems</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../math/signals-and-systems/signals-and-systems.html"><strong aria-hidden="true">1.7.1.</strong> signals processing</a></li><li class="chapter-item "><a href="../../math/signals-and-systems/mid.html"><strong aria-hidden="true">1.7.2.</strong> mid</a></li><li class="chapter-item "><a href="../../math/signals-and-systems/final.html"><strong aria-hidden="true">1.7.3.</strong> final</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../computer-science/index.html"><strong aria-hidden="true">2.</strong> computer science</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../computer-science/compiler/compiler.html"><strong aria-hidden="true">2.1.</strong> compiler</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../computer-science/compiler/compiler.html"><strong aria-hidden="true">2.1.1.</strong> compiler</a></li><li class="chapter-item "><a href="../../computer-science/compiler/hw0.html"><strong aria-hidden="true">2.1.2.</strong> hw0</a></li><li class="chapter-item "><a href="../../computer-science/compiler/hw1.html"><strong aria-hidden="true">2.1.3.</strong> hw1</a></li><li class="chapter-item "><a href="../../computer-science/compiler/hw2.html"><strong aria-hidden="true">2.1.4.</strong> hw2</a></li><li class="chapter-item "><a href="../../computer-science/compiler/hw3.html"><strong aria-hidden="true">2.1.5.</strong> hw3</a></li></ol></li><li class="chapter-item "><a href="../../computer-science/computer-graphics/computer-graphics.html"><strong aria-hidden="true">2.2.</strong> computer-graphics</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../computer-science/computer-graphics/deferred-rendering.html"><strong aria-hidden="true">2.2.1.</strong> deferred-rendering</a></li></ol></li><li class="chapter-item expanded "><a href="../../computer-science/computer-network/computer-network.html" class="active"><strong aria-hidden="true">2.3.</strong> computer networking</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../computer-science/computer-network/computer-network.html" class="active"><strong aria-hidden="true">2.3.1.</strong> computer networking</a></li><li class="chapter-item "><a href="../../computer-science/computer-network/hw1.html"><strong aria-hidden="true">2.3.2.</strong> hw1</a></li><li class="chapter-item "><a href="../../computer-science/computer-network/hw2.html"><strong aria-hidden="true">2.3.3.</strong> hw2</a></li><li class="chapter-item "><a href="../../computer-science/computer-network/hw4.html"><strong aria-hidden="true">2.3.4.</strong> hw4</a></li><li class="chapter-item "><a href="../../computer-science/computer-network/hw5.html"><strong aria-hidden="true">2.3.5.</strong> hw5</a></li><li class="chapter-item "><a href="../../computer-science/computer-network/hw6.html"><strong aria-hidden="true">2.3.6.</strong> hw6</a></li></ol></li><li class="chapter-item "><a href="../../computer-science/CSG.html"><strong aria-hidden="true">2.4.</strong> CSG(Constructive Solid Geometry) mesh boolean</a></li><li class="chapter-item "><a href="../../computer-science/data-science/data-science.html"><strong aria-hidden="true">2.5.</strong> data science</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../computer-science/data-science/data-science.html"><strong aria-hidden="true">2.5.1.</strong> data science</a></li><li class="chapter-item "><a href="../../computer-science/data-science/hw1.html"><strong aria-hidden="true">2.5.2.</strong> hw1</a></li><li class="chapter-item "><a href="../../computer-science/data-science/hw2.html"><strong aria-hidden="true">2.5.3.</strong> hw2</a></li><li class="chapter-item "><a href="../../computer-science/data-science/hw3.html"><strong aria-hidden="true">2.5.4.</strong> hw3</a></li></ol></li><li class="chapter-item "><a href="../../computer-science/database-systems/database-systems.html"><strong aria-hidden="true">2.6.</strong> database systems</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../computer-science/database-systems/database-systems.html"><strong aria-hidden="true">2.6.1.</strong> database systems</a></li><li class="chapter-item "><a href="../../computer-science/database-systems/hw1.html"><strong aria-hidden="true">2.6.2.</strong> hw1</a></li><li class="chapter-item "><a href="../../computer-science/database-systems/hw2.html"><strong aria-hidden="true">2.6.3.</strong> hw2</a></li><li class="chapter-item "><a href="../../computer-science/database-systems/hw3.html"><strong aria-hidden="true">2.6.4.</strong> hw3</a></li><li class="chapter-item "><a href="../../computer-science/database-systems/hw4.html"><strong aria-hidden="true">2.6.5.</strong> hw4</a></li></ol></li><li class="chapter-item "><a href="../../computer-science/leetcode.html"><strong aria-hidden="true">2.7.</strong> leetcode</a></li><li class="chapter-item "><a href="../../computer-science/machine-learing/machine-learing.html"><strong aria-hidden="true">2.8.</strong> machine-learing</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../computer-science/machine-learing/machine-learing.html"><strong aria-hidden="true">2.8.1.</strong> machine-learing</a></li></ol></li><li class="chapter-item "><a href="../../computer-science/model-checking/model-checking.html"><strong aria-hidden="true">2.9.</strong> model-checking</a></li><li class="chapter-item "><a href="../../computer-science/nerf.html"><strong aria-hidden="true">2.10.</strong> nerf</a></li><li class="chapter-item "><a href="../../computer-science/operating-system/operating-system.html"><strong aria-hidden="true">2.11.</strong> operating system</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../computer-science/operating-system/operating-system.html"><strong aria-hidden="true">2.11.1.</strong> operating system</a></li><li class="chapter-item "><a href="../../computer-science/operating-system/hw1.html"><strong aria-hidden="true">2.11.2.</strong> hw1</a></li><li class="chapter-item "><a href="../../computer-science/operating-system/hw2.html"><strong aria-hidden="true">2.11.3.</strong> hw2</a></li><li class="chapter-item "><a href="../../computer-science/operating-system/hw3.html"><strong aria-hidden="true">2.11.4.</strong> hw3</a></li><li class="chapter-item "><a href="../../computer-science/operating-system/hw4.html"><strong aria-hidden="true">2.11.5.</strong> hw4</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../tool/index.html"><strong aria-hidden="true">3.</strong> tool</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../tool/BitTorrent.html"><strong aria-hidden="true">3.1.</strong> BitTorrent</a></li><li class="chapter-item "><a href="../../tool/docker.html"><strong aria-hidden="true">3.2.</strong> docker</a></li><li class="chapter-item "><a href="../../tool/ffmpeg.html"><strong aria-hidden="true">3.3.</strong> ffmpeg</a></li><li class="chapter-item "><a href="../../tool/git.html"><strong aria-hidden="true">3.4.</strong> git</a></li><li class="chapter-item "><a href="../../tool/graphviz.html"><strong aria-hidden="true">3.5.</strong> graphviz</a></li><li class="chapter-item "><a href="../../tool/shields.io.html"><strong aria-hidden="true">3.6.</strong> shields.io</a></li><li class="chapter-item "><a href="../../tool/shortcut.html"><strong aria-hidden="true">3.7.</strong> shortcut</a></li><li class="chapter-item "><a href="../../tool/vim.html"><strong aria-hidden="true">3.8.</strong> vim</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents"
                            aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme"
                            aria-label="Change theme" aria-haspopup="true" aria-expanded="false"
                            aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="monokai">Monokai</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)"
                            aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S"
                            aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">something</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/x06lan/mdbook" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..."
                            aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function (link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <div class="sidetoc">
                            <nav class="pagetoc"></nav>
                        </div>
                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="computer-networking"><a class="header" href="#computer-networking">computer networking</a></h1>
<h2 id="delay"><a class="header" href="#delay">delay</a></h2>
<image src="https://imgur.com/rEb1odo.png" width="80%">
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord">transmission delay</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord mathnormal">bi</span><span class="mord mathnormal">t</span><span class="mord mathnormal">s</span><span class="mord">/</span><span class="mord mathnormal">sec</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal">bi</span><span class="mord mathnormal">t</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord">queueing delay</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mord mathnormal">p</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal">bi</span><span class="mord mathnormal">t</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">a</span><span class="mopen">(</span><span class="mord text"><span class="mord">average packet arrival rate</span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:5.3574em;vertical-align:-2.4287em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.9287em;"><span style="top:-5.4602em;"><span class="pstrut" style="height:3.3714em;"></span><span class="mord"></span></span><span style="top:-3.9602em;"><span class="pstrut" style="height:3.3714em;"></span><span class="mord"><span class="mord text"><span class="mord">delay</span></span></span></span><span style="top:-1.9287em;"><span class="pstrut" style="height:3.3714em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.4287em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4287em;"><span style="top:-3.9602em;"><span class="pstrut" style="height:3.3714em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3175em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">transmission</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3175em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">propagation</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">queueing delay</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.9287em;"><span class="pstrut" style="height:3.3714em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">L</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">s</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.4287em;"><span></span></span></span></span></span></span></span></span><span class="mspace newline"></span></span></span></span></p>
<h2 id="circuit-switchingfdmtdm"><a class="header" href="#circuit-switchingfdmtdm">circuit switching(FDM,TDM)</a></h2>
<h3 id="frequency-division-multiplexing-fdm"><a class="header" href="#frequency-division-multiplexing-fdm">Frequency Division Multiplexing (FDM)</a></h3>
<image src="https://imgur.com/Li4VtUz.png" width="80%">
<p>optical, electromagnetic frequencies divided into (narrow) frequency bands = each call allocated its own band, can transmit at max rate of that narrow band</p>
<h3 id="time-division-multiplexing-tdm"><a class="header" href="#time-division-multiplexing-tdm">Time Division Multiplexing (TDM)</a></h3>
<image src="https://imgur.com/Lf7C9Sv.png" width="80%">
<p>time divided into slots = each call allocated periodic slot(s), can transmit at maximum rate of (wider) frequency band, but only during its time slot(s)</p>
<h2 id="applicaion-layer"><a class="header" href="#applicaion-layer">applicaion layer</a></h2>
<h3 id="http"><a class="header" href="#http">http</a></h3>
<h4 id="http10"><a class="header" href="#http10">http/1.0</a></h4>
<ol>
<li>TCP connection opened</li>
<li>at most one object sent over TCP connection</li>
<li>Non-persistent HTTP。</li>
</ol>
<h4 id="http11"><a class="header" href="#http11">http/1.1</a></h4>
<ol>
<li>pipelined GETs over single TCP connection</li>
<li>persistent HTTP。</li>
</ol>
<h4 id="http2"><a class="header" href="#http2">http/2</a></h4>
<ol>
<li>multiple, pipelined GETs over single TCP connection</li>
<li>push unrequested objects to clien</li>
</ol>
<h4 id="http3"><a class="header" href="#http3">http/3</a></h4>
<p>This is an advanced transport protocol that operates on top of UDP. QUIC incorporates features like reduced connection and transport latency, multiplexing without head-of-line blocking, and improved congestion control. It integrates encryption by default, providing a secure connection setup with a single round-trip time (RTT).</p>
<h4 id="persistent-http"><a class="header" href="#persistent-http">persistent http</a></h4>
<ol>
<li>keep connetion of TCP</li>
<li>half time of tramit</li>
</ol>
<h3 id="email-smtp-pop3-imap"><a class="header" href="#email-smtp-pop3-imap">email SMTP POP3 IMAP</a></h3>
<h4 id="smtp"><a class="header" href="#smtp">SMTP</a></h4>
<p>mail server send to mail server</p>
<h4 id="pop3"><a class="header" href="#pop3">POP3</a></h4>
<p>muil-user download email</p>
<h4 id="imap"><a class="header" href="#imap">IMAP</a></h4>
<p>will delete email that user download</p>
<div class="table-wrapper"><table><thead><tr><th></th><th>http</th><th>smtp</th></tr></thead><tbody>
<tr><td></td><td>pull</td><td>push</td></tr>
<tr><td>encode</td><td>ASCII</td><td>ASCII</td></tr>
<tr><td>multiple obj</td><td>encapsulated in its own response message</td><td>multiple objects sent in multipart message</td></tr>
</tbody></table>
</div>
<h3 id="dns"><a class="header" href="#dns">DNS</a></h3>
<ol>
<li>hostname to IP address translation</li>
<li>host aliasing</li>
<li>mail server aliasing</li>
<li>take but 2 RTT(one for make connection one for return IP info) to get send IP back</li>
</ol>
<h2 id="socket"><a class="header" href="#socket">socket</a></h2>
<p>use this four tuple to identified TCP packet<br>
(source IP, source port, destination IP, destination port)</p>
<h2 id="udp"><a class="header" href="#udp">UDP</a></h2>
<ul>
<li>no handshaking before sending data</li>
<li>sender explicitly attaches IP destination address and port # to each packet</li>
<li>receiver extracts sender IP address and port# from received packe</li>
<li>transmitted data may be lost or received out-of-order</li>
</ul>
<h2 id="tcp"><a class="header" href="#tcp">TCP</a></h2>
<ul>
<li>reliable, byte stream-oriented</li>
<li>server process must first be running</li>
<li>server must have created socket (door) that welcomes client’s contact</li>
<li>TCP 3-way handshake</li>
</ul>
<h2 id="multimedia-video"><a class="header" href="#multimedia-video">Multimedia video:</a></h2>
<ul>
<li><strong>DASH</strong>: Dynamic, Adaptive Streaming over HTT</li>
<li><strong>CBR</strong>: (constant bit rate): video encoding rate fixed</li>
<li><strong>VBR</strong>: (variable bit rate): video encoding rate changes as amount of spatial, temporal coding changes</li>
</ul>
<h2 id="principles-of-reliable-data-transfer"><a class="header" href="#principles-of-reliable-data-transfer">principles of reliable data transfer</a></h2>
<ul>
<li>finite state machines (FSM)</li>
<li><strong>Sequence numbers</strong>:
<ul>
<li>byte stream “number” of first byte in segment’s data</li>
</ul>
</li>
<li><strong>Acknowledgements</strong>:
<ul>
<li>seq # of next byte expectet from other side</li>
<li>cumulative ACK</li>
</ul>
</li>
</ul>
<h3 id="go-back-n"><a class="header" href="#go-back-n">Go Back N</a></h3>
<p>the all the packet that behind is overtime or NAK
<image src="https://i.imgur.com/eoftyjT.png" width="80%"></p>
<h3 id="selective-repeat"><a class="header" href="#selective-repeat">Selective repeat</a></h3>
<p>only resend the packet overtime or NAK
<image src="https://i.imgur.com/fAlaZsW.png" width="80%"></p>
<h3 id="stop-and-wait"><a class="header" href="#stop-and-wait">stop and wait</a></h3>
<p>rdt(reliable data transfer)</p>
<h4 id="rdt-10"><a class="header" href="#rdt-10">rdt 1.0</a></h4>
<ul>
<li>rely on channel perfectly reliable
<image src="https://i.imgur.com/vsfr4vl.png" width="80%"></li>
</ul>
<h4 id="rdt-20"><a class="header" href="#rdt-20">rdt 2.0</a></h4>
<ul>
<li>checksum to detect bit errors</li>
<li><strong>acknowledgements (ACKs)</strong>: receiver explicitly tells sender that pkt received OK</li>
<li><strong>negative acknowledgements (NAKs)</strong>: receiver explicitly tells sender that pkt had errors</li>
<li><strong>stop and wait</strong>: sender sends one packet, then waits for receiver response
<image src="https://i.imgur.com/3B7r9op.png" width="80%"></li>
</ul>
<h4 id="rdt-21"><a class="header" href="#rdt-21">rdt 2.1</a></h4>
<p>在每份封包加入序號(sequence number) 來編號，因此接收端可以藉由序號判斷現在收到的封包是不是重複的，若重複則在回傳一次ACK回去，而這裡的序號用1位元就夠了(0和1交替)。</p>
<ul>
<li>
<p>sender
<image src="https://i.imgur.com/O5I8H0g.png" width="80%"></p>
</li>
<li>
<p>receiver
<image src="https://i.imgur.com/r52Iw9D.png" width="80%"></p>
</li>
</ul>
<h4 id="rdt-22"><a class="header" href="#rdt-22">rdt 2.2</a></h4>
<p>rdt2.2不再使用NAK，而是在ACK加入序號的訊息，所以在接收端的make_pkt()加入參數ACK,0或ACK,1，而在傳送端則是要檢查所收到ACK的序號。</p>
<h4 id="rdt-30"><a class="header" href="#rdt-30">rdt 3.0</a></h4>
<ul>
<li>add timer .If sender not receive ACK then resend</li>
</ul>
<h2 id="tcp-flow-control"><a class="header" href="#tcp-flow-control">TCP flow control</a></h2>
<p>receiver controls sender, so sender won’t overflow receiver’s buffer by transmitting too much, too fast</p>
<h3 id="window-buffer-size"><a class="header" href="#window-buffer-size">window buffer size</a></h3>
<p>if the receiver window buffer is fill then sender should stop sending until receiver window buffer is free again</p>
<h3 id="samplertt"><a class="header" href="#samplertt">SampleRTT</a></h3>
<ul>
<li>measured time from segment transmission until ACK receipt</li>
<li>ignore retransmissions</li>
<li>SampleRTT will vary, want estimated RTT “smoother” average several recent measurements, not just current SampleRTT</li>
</ul>
<h3 id="tcp-rttround-trip-time-timeout"><a class="header" href="#tcp-rttround-trip-time-timeout">TCP RTT(round trip time), timeout</a></h3>
<ul>
<li>use EWMA(exponential weighted moving average)</li>
<li>influence of past sample decreases exponentially fast</li>
<li><strong>typical value</strong>: <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span> = 0.125
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord">EstimatedRTT</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord text"><span class="mord">EstimatedRTT </span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4653em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord">SampleRTT</span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord">TimeoutInterval</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord text"><span class="mord">EstimatedRTT</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">DevRTT(safety margin)</span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">DevRTT</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord text"><span class="mord">DevRTT</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord text"><span class="mord"> SampleRTT</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">EstimatedRTT </span></span><span class="mord">∣</span></span></span></span></span></li>
</ul>
<h2 id="tcp-congestion-control-aimdadditive-increase-multiplicative-decrease"><a class="header" href="#tcp-congestion-control-aimdadditive-increase-multiplicative-decrease">TCP congestion control AIMD(Additive Increase Multiplicative Decrease)</a></h2>
<ul>
<li>send cwnd bytes,wait RTT for ACKS, then send more bytes
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">TCP rate</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0574em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">RTT</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">cwnd</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord text"><span class="mord">(bits/sec)</span></span></span></span></span></span></li>
</ul>
<h3 id="slow-start"><a class="header" href="#slow-start">slow start</a></h3>
<p>increase rate exponentially until first loss event</p>
<ul>
<li>initially cwnd = 1 MSS</li>
<li>double cwnd every RTT</li>
<li>done by incrementing cwnd for every ACK received</li>
</ul>
<h3 id="cubic-briefly"><a class="header" href="#cubic-briefly">CUBIC (briefly)</a></h3>
<p>use the cubic function(三次函數) to predict bottlenck</p>
<h3 id="3-duplicate-ack"><a class="header" href="#3-duplicate-ack">3 duplicate ack</a></h3>
<p>if recevie 3 ACK of same packet then see as reach bottlenck</p>
<h3 id="congestion-avoidance-aimdadditive-increase-multiplicative-decrease"><a class="header" href="#congestion-avoidance-aimdadditive-increase-multiplicative-decrease">congestion avoidance AIMD(Additive Increase Multiplicative Decrease)</a></h3>
<h2 id="network-layer"><a class="header" href="#network-layer">Network Layer:</a></h2>
<ul>
<li>functions
<ul>
<li><strong>network-layer functions</strong>:
<ul>
<li><strong>forwarding</strong>: move packets from a router’s input link to appropriate router output link</li>
<li><strong>routing</strong>: determine route taken by packets from source to destination
<ul>
<li>routing algorithms</li>
</ul>
</li>
</ul>
</li>
<li><strong>analogy</strong>: taking a trip
<ul>
<li><strong>forwarding</strong>: process of getting through single interchange</li>
<li><strong>routing</strong>: process of planning trip from source to destination</li>
</ul>
</li>
</ul>
</li>
<li>data plane and control plane
<ul>
<li><strong>Data plane</strong>:
<ul>
<li>local, per-router function</li>
<li>determines how datagram arriving on router input port is forwarded to router output port</li>
<li><strong>forwarding</strong>: move packets from router’s input to appropriate router output</li>
</ul>
</li>
<li><strong>Control plane</strong>:
<ul>
<li>network-wide logic</li>
<li><strong>routing</strong>: determine route taken by packets from source to destination</li>
<li>determines how datagram is routed among routers along end- end path from source host to destination host</li>
<li><strong>two control-plane approaches</strong>:
<ul>
<li><strong>traditional routing algorithms</strong>: implemented in routers</li>
<li><strong>software-defined networking Software-Defined Networking((SDN)</strong>: implemented in (remote) servers</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="network-layerdata-planech4"><a class="header" href="#network-layerdata-planech4">Network layer:Data Plane(CH4)</a></h3>
<h4 id="router"><a class="header" href="#router">Router</a></h4>
<ul>
<li><strong>input port queuing</strong>: if datagrams arrive faster than forwarding rate into switch fabri</li>
<li><strong>destination-based forwarding</strong>: forward based only on destination IP address (traditional)</li>
<li><strong>generalized forwarding</strong>: forward based on any set of header field values</li>
</ul>
<image src="https://imgur.com/I6mxtp2.png" width="80%">
<h5 id="input-port-functions"><a class="header" href="#input-port-functions">Input port functions</a></h5>
<image src="https://imgur.com/jwMpl8L.png" width="80%">
<h6 id="destination-based-forwardinglongest-prefix-matching"><a class="header" href="#destination-based-forwardinglongest-prefix-matching">Destination-based forwarding(Longest prefix matching)</a></h6>
<ul>
<li>when looking for forwarding table entry for given destination address, use longest address prefix that matches destination address.</li>
</ul>
<image src="https://imgur.com/MqZHr2S.png" width="80%">
<image src="https://imgur.com/GtNXmwl.png" width="80%">
<h5 id="switching-fabrics"><a class="header" href="#switching-fabrics">Switching fabrics</a></h5>
<ul>
<li>transfer packet
<ul>
<li>from input link to appropriate output link</li>
</ul>
</li>
<li><strong>switching rate</strong>:
<ul>
<li>rate at which packets can be transfer from</li>
</ul>
</li>
</ul>
<image src="https://imgur.com/TedE1AM.png" width="80%">
<h5 id="input-output-queuing"><a class="header" href="#input-output-queuing">Input Output queuing</a></h5>
<ul>
<li>input
<ul>
<li>If switch fabric slower than input ports combined -&gt; queueing may occur at input queues
<ul>
<li>queueing delay and loss due to input buffer overflow!</li>
</ul>
</li>
<li><strong>Head-of-the-Line (HOL) blocking</strong>: queued datagram at front of queue prevents others in queue from moving forward</li>
</ul>
</li>
<li>output
<ul>
<li>Buffering
<ul>
<li><strong>drop policy</strong>: which datagrams to drop if no free buffers?</li>
<li>Datagrams can be lost due to congestion, lack of buffers</li>
</ul>
</li>
<li>Priority scheduling – who gets best performance, network neutrality</li>
</ul>
</li>
</ul>
<h5 id="buffer-management"><a class="header" href="#buffer-management">buffer management</a></h5>
<image src="https://imgur.com/mybi2hI.png" width="80%">
<ul>
<li><strong>drop</strong>: which packet to add,drop when buffers are full
<ul>
<li><strong>tail drop</strong>: drop arriving packet</li>
<li><strong>priority</strong>: drop/remove on priority basis</li>
</ul>
</li>
<li><strong>marking</strong>: which packet to mark to signal congestion(ECN,RED)</li>
</ul>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord">flows</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord">link speed</span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord">buffer size</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2903em;vertical-align:-0.93em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.1833em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702 c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14 c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54 c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10 s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429 c69,-144,104.5,-217.7,106.5,-221 l0 -0 c5.3,-9.3,12,-14,20,-14 H400000v40H845.2724 s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7 c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">RTT</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.93em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<h5 id="packet-scheduling"><a class="header" href="#packet-scheduling">packet scheduling</a></h5>
<ul>
<li>
<p>FCFS(first come, first served)</p>
</li>
<li>
<p>priority</p>
<ul>
<li>priority queue</li>
<li><image src="https://imgur.com/c0gdQQp.png" width="80%">
</li>
</ul>
</li>
<li>
<p>RR(round robin)</p>
<ul>
<li>arriving traffic classified, queued by class(any header fields can be used for classification)</li>
<li>server cyclically, repeatedly scans class queues, sending one complete packet from each class (if available) in turn</li>
<li><image src="https://imgur.com/E3uUUDe.png" width="80%">
</li>
</ul>
</li>
<li>
<p>WFQ(Weighted Fair Queuing)</p>
<ul>
<li>round robin but each class, <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span>, has weight, <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, and gets weighted amount of service in each cycle</li>
</ul>
</li>
</ul>
<h4 id="ip-internet-protoco"><a class="header" href="#ip-internet-protoco">IP (Internet Protoco)</a></h4>
<h5 id="ip-datagram"><a class="header" href="#ip-datagram">IP Datagram</a></h5>
<image src="https://imgur.com/kjuR0Da.png" width="80%">
<image src="https://imgur.com/TJy7dN0.png" width="80%">
<h5 id="ip-address"><a class="header" href="#ip-address">IP address</a></h5>
<ul>
<li><strong>IP address</strong>: 32-bit identifier associated with each host or router interface</li>
<li><strong>interface</strong>: connection between host/router and physical link
<ul>
<li>router’s typically have multiple interfaces</li>
<li>host typically has one or two interfaces (e.g., wired Ethernet, wireless 802.11)</li>
</ul>
</li>
</ul>
<h5 id="subnets"><a class="header" href="#subnets">Subnets</a></h5>
<ul>
<li><strong>in same subnet if</strong>:
<ul>
<li>device interfaces that can physically reach each other without passing through an intervening router</li>
</ul>
</li>
</ul>
<image src="https://imgur.com/FCAWoXP.png" width="80%">
<h6 id="cidrclassless-interdomain-routing"><a class="header" href="#cidrclassless-interdomain-routing">CIDR(Classless InterDomain Routing)</a></h6>
<p>address format: a.b.c.d/x, where x is # bits in subnet portion of address</p>
<image src="https://imgur.com/YS58NCh.png" width="80%">
<h5 id="dhcp"><a class="header" href="#dhcp">DHCP</a></h5>
<p>host dynamically obtains IP address from network server when it
“joins” network</p>
<ul>
<li>host broadcasts DHCP discover msg [optional]</li>
<li>DHCP server responds with DHCP offer msg [optional]</li>
<li><strong>host requests IP address</strong>: DHCP request msg</li>
<li><strong>DHCP server sends address</strong>: DHCP ack msg</li>
</ul>
<image src="https://imgur.com/nG833ln.png" width="80%">
<h5 id="natnetwork-address-translation"><a class="header" href="#natnetwork-address-translation">NAT(Network Address Translation)</a></h5>
<ul>
<li><strong>NAT has been controversial</strong>:
<ul>
<li>routers “should” only process up to layer 3</li>
<li>address “shortage” should be solved by IPv6</li>
<li>violates end-to-end argument (port # manipulation by network-layer device)</li>
<li><strong>NAT traversal</strong>: what if client wants to connect to server behind NAT?</li>
</ul>
</li>
<li><strong>but NAT is here to stay</strong>:
<ul>
<li>extensively used in home and institutional nets, 4G/5G cellular net</li>
</ul>
</li>
</ul>
<image src="https://imgur.com/8pQh2Fj.png" width="80%">
<h5 id="ip6"><a class="header" href="#ip6">IP6</a></h5>
<image src="https://imgur.com/kkNzQau.png" width="80%">
<h6 id="tunnelingtransition-from-ipv4-to-ipv6"><a class="header" href="#tunnelingtransition-from-ipv4-to-ipv6">tunneling:Transition from IPv4 to IPv6</a></h6>
<p>IPv6 datagram carried as payload in IPv4 datagram among IPv4 routers (“packet within a packet”)</p>
<image src="https://imgur.com/mEzJH1z.png" width="80%">
<h5 id="generalized-forwardingflow-table"><a class="header" href="#generalized-forwardingflow-table">Generalized forwarding(flow table)</a></h5>
<image src="https://imgur.com/rmcjk71.png" width="80%">
<p>flow table entries</p>
<image src="https://imgur.com/i7qwKaH.png" width="80%">
<ul>
<li><strong><strong>match+action</strong></strong>: abstraction unifies different kinds of devices</li>
</ul>
<div class="table-wrapper"><table><thead><tr><th>Device</th><th>Match</th><th>Action</th></tr></thead><tbody>
<tr><td>Router</td><td>Longest Destination IP Prefix</td><td>Forward out a link</td></tr>
<tr><td>Switch</td><td>Destination MAC Address</td><td>Forward or flood</td></tr>
<tr><td>Firewall</td><td>IP Addresses and Port Numbers</td><td>Permit or deny</td></tr>
<tr><td>NAT</td><td>IP Address and Port</td><td>Rewrite address and port</td></tr>
</tbody></table>
</div>
<h5 id="middleboxes"><a class="header" href="#middleboxes">middleboxes</a></h5>
<image src="https://imgur.com/QnhkauT.png" width="80%">
<h3 id="network-layercontrol-planech5"><a class="header" href="#network-layercontrol-planech5">Network layer:Control Plane(CH5)</a></h3>
<ul>
<li><strong>structuring network control plane</strong>:
<ul>
<li>per-router control (traditional)</li>
<li>logically centralized control (software defined networking)</li>
</ul>
</li>
</ul>
<h4 id="routing-protocols"><a class="header" href="#routing-protocols">Routing protocols</a></h4>
<image src="https://imgur.com/rEszsqB.png" width="80%">
<h5 id="dijkstras-link-state-routing-algorithm"><a class="header" href="#dijkstras-link-state-routing-algorithm">Dijkstra’s link-state routing algorithm</a></h5>
<ul>
<li><strong>centralized</strong>: network topology, link costs known to all node</li>
<li><strong>iterative</strong>: after k iterations, know least cost path to k destinations</li>
</ul>
<image src="https://imgur.com/OEjogtT.png" width="80%">
<h5 id="distance-vector-algorithmbellman-ford"><a class="header" href="#distance-vector-algorithmbellman-ford">Distance vector algorithm(Bellman-Ford)</a></h5>
<ul>
<li>from time-to-time, each node sends its own distance vector estimate to neighbors</li>
<li>under natural conditions, the estimate Dx(y) converge to the actual least cost dx(y)
<ul>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">mi</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)}</span><span class="mord text"><span class="mord"> for each node </span></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></li>
</ul>
</li>
<li>when x receives new DV estimate from any neighbor, it updates its own DV using B-F equation</li>
<li><strong>link cost changes</strong>:
<ul>
<li>node detects local link cost change</li>
<li>updates routing info, recalculates local DV</li>
<li>if DV changes, notify neighbors</li>
</ul>
</li>
</ul>
<h4 id="intra-as-routing"><a class="header" href="#intra-as-routing">Intra-AS routing</a></h4>
<ul>
<li><strong>RIP</strong>: Routing Information Protocol [RFC 1723]
<ul>
<li><strong>classic DV</strong>: DVs exchanged every 30 secs</li>
<li>no longer widely used</li>
</ul>
</li>
<li><strong>EIGRP</strong>: Enhanced Interior Gateway Routing Protocol
<ul>
<li>DV based</li>
<li>formerly Cisco-proprietary for decades (became open in 2013 [RFC 7868])</li>
</ul>
</li>
<li><strong>OSPF</strong>: Open Shortest Path First [RFC 2328]
<ul>
<li>classic link-state
<ul>
<li>each router floods OSPF link-state advertisements (directly over IP rather than using TCP/UDP) to all other routers in entire AS</li>
<li><strong>multiple link costs metrics possible</strong>: bandwidth, delay</li>
<li>each router has full topology, uses Dijkstra’s algorithm to compute forwarding table</li>
</ul>
</li>
<li><strong>security</strong>: all OSPF messages authenticated (to prevent malicious intrusion)</li>
<li><image src="https://imgur.com/97bMDV5.png" width="80%">
</li>
</ul>
</li>
</ul>
<h4 id="inter-as-routing"><a class="header" href="#inter-as-routing">Inter-AS routing</a></h4>
<ul>
<li><strong>BGP (Border Gateway Protocol)inter-domain routing protocol</strong>:
<ul>
<li><strong>eBGP</strong>: obtain subnet reachability information from neighboring ASes</li>
<li><strong>iBGP</strong>: propagate reachability information to all AS-internal routers</li>
</ul>
</li>
</ul>
<h4 id="why-different-intra-as-inter-as-routing-"><a class="header" href="#why-different-intra-as-inter-as-routing-">Why different Intra-AS, Inter-AS routing ?</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Criteria</th><th>Intra-AS</th><th>Inter-AS</th></tr></thead><tbody>
<tr><td><strong>Policy</strong></td><td>Single admin, no policy decisions needed</td><td>Admin wants control over how traffic is routed, and who routes through its network</td></tr>
<tr><td><strong>Scale</strong></td><td></td><td>Hierarchical routing saves table size, reduced update traffic</td></tr>
<tr><td><strong>Performance</strong></td><td>Can focus on performance</td><td>Policy dominates over performance</td></tr>
</tbody></table>
</div>
<h4 id="icmp-internet-control-message-protocol"><a class="header" href="#icmp-internet-control-message-protocol">ICMP: internet control message protocol</a></h4>
<ul>
<li>used by hosts and routers to communicate network-level information
<ul>
<li><strong>error reporting</strong>: unreachable host, network, port, protocol</li>
<li>echo request/reply (used by ping)</li>
</ul>
</li>
<li><strong>network-layer “above</strong>: IP:
<ul>
<li>ICMP messages carried in IP datagrams</li>
</ul>
</li>
<li><strong>ICMP message</strong>: type, code plus first 8 bytes of IP datagram causing error</li>
</ul>
<h2 id="link-layer-and-lanch6"><a class="header" href="#link-layer-and-lanch6">Link layer and LAN(CH6)</a></h2>
<ul>
<li><strong>flow control</strong>:
<ul>
<li>pacing between adjacent sending and receiving nodes</li>
</ul>
</li>
<li><strong>error detection</strong>:
<ul>
<li>errors caused by signal attenuation, noise.</li>
<li>receiver detects errors, signals retransmission, or drops frame</li>
</ul>
</li>
<li><strong>error correction</strong>:
<ul>
<li>receiver identifies and corrects bit error(s) without retransmission</li>
</ul>
</li>
<li><strong>half-duplex and full-duplex</strong>:
<ul>
<li>with half duplex, nodes at both ends of link can transmit, but not at sam</li>
</ul>
</li>
</ul>
<h3 id="error-detection-correction"><a class="header" href="#error-detection-correction">error detection, correction</a></h3>
<ul>
<li>Internet checksum</li>
<li>Parity checking</li>
<li>Cyclic Redundancy Check (CRC)</li>
</ul>
<h4 id="parity-checking"><a class="header" href="#parity-checking">Parity checking</a></h4>
<image src="https://imgur.com/34PJCaF.png" width="80%">
<h4 id="cyclic-redundancy-check-crc"><a class="header" href="#cyclic-redundancy-check-crc">Cyclic Redundancy Check (CRC)</a></h4>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord">check bit length</span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord">raw data bits</span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord">bit pattern</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">1</span><span class="mord text"><span class="mord"> bit</span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace"> </span><span class="mord mathnormal">m</span><span class="mord mathnormal">o</span><span class="mord mathnormal">d</span><span class="mspace"> </span><span class="mord mathnormal">G</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">CRC</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord">if </span></span><span class="mord mathnormal" style="margin-right:0.07153em;">CRC</span><span class="mspace"> </span><span class="mord mathnormal">m</span><span class="mord mathnormal">o</span><span class="mord mathnormal">d</span><span class="mspace"> </span><span class="mord mathnormal">G</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">0</span><span class="mord text"><span class="mord"> then have error bit</span></span></span></span></span></p>
<h3 id="mac-protocolmultiple-access"><a class="header" href="#mac-protocolmultiple-access">MAC protocol(multiple access)</a></h3>
<ul>
<li>channel partitioning
<ul>
<li>time division</li>
<li>frequency division</li>
</ul>
</li>
<li>random access MAC protocol
<ul>
<li>ALOHA, slotted ALOHA</li>
<li>CSMA
<ul>
<li>CSMA/CD: ethernet</li>
<li>CSMA/CA: 802.11</li>
</ul>
</li>
</ul>
</li>
<li>takeing turns
<ul>
<li>polling(token passing)</li>
<li>bluetooth,token ring</li>
</ul>
</li>
</ul>
<h4 id="slotted-aloha"><a class="header" href="#slotted-aloha">slotted ALOHA</a></h4>
<ul>
<li>time divided into equal size slots (time to transmit 1 frame)</li>
<li>nodes are synchronized</li>
<li><strong>if collision</strong>: node retransmits frame in each subsequent slot with probability <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span> until success</li>
<li>max efficiency = <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>= 0.37</li>
</ul>
<h4 id="pure-aloha"><a class="header" href="#pure-aloha">Pure ALOHA</a></h4>
<image src="https://imgur.com/4dJ8hQN.png" width="80%">
<h4 id="csma"><a class="header" href="#csma">CSMA</a></h4>
<ul>
<li><strong>CSMA</strong>:
<ul>
<li><strong>if channel sensed idle</strong>: transmit entire frame
• if channel sensed busy: defer transmission</li>
</ul>
</li>
<li><strong>CSMA/CD(Collision Detection)</strong>:
<ul>
<li>collision detection easy in wired, difficult with wireless</li>
<li>if collisions detected within short then send <code>abort</code>,<code>jam signal</code></li>
<li><strong>After aborting, NIC enters binary (exponential) backoff</strong>:
<ul>
<li>after mth collision, NIC chooses K at random from {0,1,2, …, 2m-1}. NIC waits <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">512</span></span></span></span> bit times</li>
<li><strong>more collisions</strong>: longer backoff interval</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="lan"><a class="header" href="#lan">LAN</a></h3>
<h4 id="arp-address-resolution-protocol"><a class="header" href="#arp-address-resolution-protocol">ARP: address resolution protocol</a></h4>
<p>determine interface’s MAC address by its IP
address</p>
<ul>
<li><strong>ARP table</strong>: each IP node (host, router) on LAN has table</li>
<li><strong>IP/MAC address mappings for some LAN nodes</strong>: &lt; IP address; MAC address; TTL&gt;</li>
<li><strong>TTL (Time To Live)</strong>: time after which address mapping will be forgotten (typically 20 min)</li>
<li>destination MAC address = <code>FF-FF-FF-FF-FF-FF</code></li>
</ul>
<h4 id="switch"><a class="header" href="#switch">switch</a></h4>
<p>switch table</p>
<image src="https://imgur.com/YhnHQyv.png" width="80%">

                        <!-- github commet -->
                        <dir id="giscus"></dir>
                        <script>
                            var localAddrs = ["localhost", "127.0.0.1", ""];

                            if (localAddrs.indexOf(document.location.hostname) === -1) {
                                var giscusScript = document.createElement('script');
                                giscusScript.src = "https://giscus.app/client.js";
                                giscusScript.setAttribute('data-repo', 'x06lan/mdbook');
                                giscusScript.setAttribute('data-repo-id', 'R_kgDOJxZ6mQ');
                                giscusScript.setAttribute('data-category-id', 'DIC_kwDOJxZ6mc4CXeJ6');
                                giscusScript.setAttribute('data-mapping', 'pathname');
                                giscusScript.setAttribute('data-strict', '0');
                                giscusScript.setAttribute('data-reactions-enabled', '1');
                                giscusScript.setAttribute('data-emit-metadata', '0');
                                giscusScript.setAttribute('data-input-position', 'bottom');
                                giscusScript.setAttribute('data-theme', 'preferred_color_scheme');
                                giscusScript.setAttribute('data-lang', 'zh-TW');
                                giscusScript.setAttribute('crossorigin', 'anonymous');
                                giscusScript.async = true;
                                let giscusDiv = document.getElementById('giscus');
                                giscusDiv.appendChild(giscusScript);
                            }
                        </script>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>

        <script src="../../ace.js"></script>
        <script src="../../editor.js"></script>
        <script src="../../mode-rust.js"></script>
        <script src="../../theme-dawn.js"></script>
        <script src="../../theme-tomorrow_night.js"></script>

        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../theme/pagetoc.js"></script>
        <script src="../../mermaid.min.js"></script>
        <script src="../../mermaid-init.js"></script>


    </div>
</body>

</html>
